# ADR-013: Health Check Strategy

## Context
MSA ν™κ²½μ—μ„ κ° μ„λΉ„μ¤μ μƒνƒ λ¨λ‹ν„°λ§μ„ μ„ν• ν—¬μ¤μ²΄ν¬ μ „λµμ΄ ν•„μ”ν–λ‹¤.  
Spring Boot Actuatorμ κΈ°λ³Έ ν—¬μ¤μ²΄ν¬μ™€ λΉ„μ¦λ‹μ¤ λ΅μ§μ— νΉν™”λ μ»¤μ¤ν…€ ν—¬μ¤μ²΄ν¬ μ¤‘ μ„ νƒν•΄μ•Ό ν–λ‹¤.

μ΄κΈ°μ—λ” api-aiagent-svcμ— OpenAI API μ—°κ²° μƒνƒλ¥Ό ν™•μΈν•λ” μ»¤μ¤ν…€ ν—¬μ¤μ²΄ν¬λ¥Ό κµ¬ν„ν•λ ¤ ν–μΌλ‚,  
WebClient μμ΅΄μ„± κ΄€λ ¨ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•μ—¬ CI/CD νμ΄ν”„λΌμΈμ΄ μ‹¤ν¨ν–λ‹¤.

## Decision
**λ¨λ“  μ„λΉ„μ¤μ— Spring Boot Actuator κΈ°λ³Έ ν—¬μ¤μ²΄ν¬(`/actuator/health`)λ§ μ μ©ν•λ‹¤.**

- λ¨λ“  Backend μ„λΉ„μ¤(5κ°)μ— `spring-boot-starter-actuator` μμ΅΄μ„± μ¶”κ°€
- `management.endpoints.web.exposure.include=health,info` μ„¤μ • ν†µμΌ
- μ»¤μ¤ν…€ ν—¬μ¤μ²΄ν¬λ” ν–¥ν›„ μ•μ •μ„± ν™•λ³΄ ν›„ μ¶”κ°€ κ³ λ ¤

## Status
Accepted

## Consequences
- π‘ **μΌκ΄€μ„±**: λ¨λ“  μ„λΉ„μ¤κ°€ λ™μΌν• ν—¬μ¤μ²΄ν¬ κ²½λ΅ μ‚¬μ©
- π‘ **μ•μ •μ„±**: κ²€μ¦λ Spring Boot Actuator κΈ°λ¥μΌλ΅ λΉλ“ μ‹¤ν¨ μ„ν— μ κ±°
- π‘ **Azure νΈν™μ„±**: App Serviceμ—μ„ `/actuator/health` μ—”λ“ν¬μΈνΈ ν™μ© κ°€λ¥
- π‘ **μλ™ ν™•μ¥**: λ°μ΄ν„°λ² μ΄μ¤, λ””μ¤ν¬ κ³µκ°„ λ“± κΈ°λ³Έ ν—¬μ¤μ²΄ν¬ ν•­λ© ν¬ν•¨
- π‘ **μ„Έλ¶€ λ¨λ‹ν„°λ§ λ¶€μ΅±**: μ™Έλ¶€ API(OpenAI, Twilio) μƒνƒλ” λ³„λ„ ν™•μΈ ν•„μ”
- π‘ **λΉ„μ¦λ‹μ¤ λ΅μ§ λ―Έλ°μ**: μ„λΉ„μ¤λ³„ νΉν™”λ μƒνƒ ν™•μΈ λ¶κ°€

## Future Considerations
- μ•μ •ν™” ν›„ λ‹¨κ³„μ μΌλ΅ μ»¤μ¤ν…€ ν—¬μ¤μ²΄ν¬ μ¶”κ°€
- μ™Έλ¶€ API μμ΅΄μ„± λ¨λ‹ν„°λ§μ„ μ„ν• λ³„λ„ λ©”νΈλ¦­ μμ§‘ κ²€ν† 